"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports._condi = exports.isArray = exports.isObject = exports.newID = void 0;
const newID = () => {
    let timestamp = (new Date().getTime() / 1000 | 0).toString(16);
    return timestamp + 'xxxxxxxxxxxxxxxx'.replace(/[x]/g, () => {
        return (Math.random() * 16 | 0).toString(16);
    }).toLowerCase();
};
exports.newID = newID;
const isObject = (x) => (typeof x === 'object' && x !== null && !(0, exports.isArray)(x)) ? true : false;
exports.isObject = isObject;
const isArray = (x) => Array.isArray(x);
exports.isArray = isArray;
const _condi = (field, document, conditions) => {
    if ((0, exports.isObject)(conditions)) {
        let valid = true;
        for (let condi in conditions) {
            switch (condi) {
                case '$gte':
                    valid = (document[field] >= conditions[condi] ? true : false);
                    break;
                case '$gt':
                    valid = (document[field] > conditions[condi] ? true : false);
                    break;
                case '$lt':
                    valid = (document[field] < conditions[condi] ? true : false);
                    break;
                case '$lte':
                    valid = (document[field] <= conditions[condi] ? true : false);
                    break;
                default:
                    throw `Unkown operator ${condi}`;
            }
            if (valid === false)
                return valid;
        }
        return valid;
    }
    return (document[field] === conditions ? true : false);
};
exports._condi = _condi;
